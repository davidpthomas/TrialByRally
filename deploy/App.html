<!DOCTYPE html>
<html>
<head>
    <title>TrialByRally</title>

    <script type="text/javascript" src="/apps/2.0rc1/sdk.js"></script>

    <script type="text/javascript">
        Rally.onReady(function () {
                Ext.define("CustomApp",{extend:"Rally.app.App",componentCls:"app",layout:{type:"vbox",align:"center"},margin:"20 0 0 0",data:{companyName:"",lineOfBusinessName:"",pilotTeamName:""},models:null,projectCounter:0,projectCountTotal:0,artifactCounter:0,bulkUpdateCounter:0,artifactCountTotal:0,projectTreeIndex:{},projectTree:{name:"RallyTrial8",children:[{name:"Company",alias:"company",children:[{name:"Line of Business",alias:"business",children:[{name:"Pilot Team",alias:"pilot-team",children:[{name:"Company Team",alias:"company-team"},{name:"Rally Team",alias:"rally-team"}]}]}]}]},artifactTree:{type:"PortfolioItem/Initiative",name:"Successful Trial Pilot with (Line of Business Group)",project:"testing",children:[{type:"PortfolioItem/Feature",name:"Administrative Activities",children:[{type:"HierarchicalRequirement",name:"Trial agreements",children:[{type:"Task",name:"NDA"},{type:"Task",name:"Info Security"},{type:"Task",name:"Procurement"},{type:"Task",name:"Rally Deployment"},{type:"Task",name:"Identify Pilot Team"}]}]},{type:"PortfolioItem/Feature",name:"Rally Training + Working Sessions",children:[{type:"HierarchicalRequirement",name:"Trial roadmap",children:[{type:"Task",name:"Rally and Company review and accept POV"}]},{type:"HierarchicalRequirement",name:"Rally/customer collaboration during trial",children:[{type:"HierarchicalRequirement",name:"Understand Customer's organizational and operational environment",children:[{type:"Task",name:"What is your Product-Team organizational structure to be managed using Agile approaches in Rally?"},{type:"Task",name:"What is driving your Agile and Lean Transformation?"},{type:"Task",name:"What is your organization hierarchy / structure?"},{type:"Task",name:"How do you organize your teams and / or work -- e.g. Team / Product / Feature / Component based?"},{type:"Task",name:"What do you report, to whom, and why?"}]},{type:"HierarchicalRequirement",name:"Detailed Demo/Trial Kickoff Meeting",children:[{type:"HierarchicalRequirement",name:"Setup",children:[{type:"Task",name:"Rally subscription configuration and setup overview"},{type:"Task",name:"Rally Workspace and Project Hierarchy overview"},{type:"Task",name:"Rally users and permissions overview"}]},{type:"HierarchicalRequirement",name:"Strategy (Business Level)",children:[]},{type:"HierarchicalRequirement",name:"Execution (Delvery Level)",children:[{type:"Task",name:"Support for Scrum and Kanban"}]},{type:"HierarchicalRequirement",name:"Extending Rally",children:[{type:"Task",name:"Apps and Dashboards"},{type:"Task",name:"Web Services API"}]}]},{type:"HierarchicalRequirement",name:"Self help resources",children:[{type:"Task",name:"Rally Online Help"},{type:"Task",name:"Rally Video Tutorials"},{type:"Task",name:"Rally Support"}]}]}]},{type:"PortfolioItem/Feature",name:"The TRIAL",children:[{type:"HierarchicalRequirement",name:"Configure organizational structure (Project Hierarchy)",children:[{type:"Task",name:"Create project structure in Rally"}]},{type:"HierarchicalRequirement",name:"Populate Team Backlog(s)",children:[{type:"Task",name:"[RPM] create portfolio items"},{type:"Task",name:"create stories"}]},{type:"HierarchicalRequirement",name:"Scrum",children:[{type:"Task",name:"Define Release and Iteration time-boxes"},{type:"Task",name:"Plan Stories (Backlog) into Iterations"}]},{type:"HierarchicalRequirement",name:"Kanban",children:[{type:"Task",name:"Define Kanban States"},{type:"Task",name:"[RPM] Define PI level value stream"},{type:"Task",name:"Add/configure team Kanban board(s)"},{type:"Task",name:"[RPM] Add/configure Portfolio Kanban board(s)"}]},{type:"HierarchicalRequirement",name:"Tracking",children:[{type:"Task",name:"Setup Pages (Dashboards)"},{type:"Task",name:"Setup Apps"}]}]}]},launch:function(){this._createLayout()},_createLayout:function(){var welcomeText1=Ext.create("Ext.Component",{itemId:"card-welcome",width:600,html:"<div class='headline'>Welcome to your Rally Trial.</div><div class='content'>Organizations use Rally to accelerate the pace of innovation, improve productivity, and more effectively adapt to rapidly changing customer needs and competitive dynamics.</div>"}),welcomeTextContainer1=Ext.create("Ext.Container",{items:[welcomeText1]});this.dialog=Ext.create("Rally.ui.dialog.Dialog",{itemId:"dialog",autoShow:!1,draggable:!0,width:600,height:350,items:this._createTrialInstallWizard()});var welcomeText2=Ext.create("Ext.Component",{itemId:"card-init2",html:"<div class='content'>Get on the fast track to evaluating Rally!</div>"}),getStartedButton=Ext.create("Rally.ui.Button",{text:"Get Started",handler:function(){this.dialog.show()},scope:this}),welcomeTextContainer2=Ext.create("Ext.Container",{layout:{type:"hbox",align:"middle"},items:[welcomeText2,getStartedButton]}),welcomeCard=Ext.create("Ext.Container",{items:[welcomeTextContainer1,welcomeTextContainer2]}),nextStepsText=Ext.create("Ext.Component",{itemId:"card-next-steps",width:600,html:"<div class='headline'>Almost Done...</div><div class='content'>We've just created a project structure and artifacts to help manage your trial experience.  Now lets create some dashboards to visualize the work.</div>"}),nextStepsCard1Number=Ext.create("Ext.Component",{html:"<div class='enlarged-number'>#1</div>"}),nextStepsCard1Image=Ext.create("Ext.Img",{src:"",width:"300px"}),nextStepsCard1ImageNumberContainer=Ext.create("Ext.Container",{layout:{type:"hbox",align:"middle"},items:[nextStepsCard1Number,nextStepsCard1Image]}),nextStepsCard1Desc=Ext.create("Ext.Component",{width:300,html:"<div class='content'>Create a new 'Page' in Rally.</div>"}),nextStepsCard1DescContainer=Ext.create("Ext.Container",{layout:"vbox",items:[nextStepsCard1ImageNumberContainer,nextStepsCard1Desc]}),nextStepsCard1=Ext.create("Ext.Container",{itemId:"card-next-card1",margin:"20 0 0 0",items:[nextStepsCard1DescContainer]}),nextStepsCard2Number=Ext.create("Ext.Component",{html:"<div class='enlarged-number'>#2</div>"}),nextStepsCard2Image=Ext.create("Ext.Img",{src:"",width:"300px"}),nextStepsCard2ImageNumberContainer=Ext.create("Ext.Container",{layout:{type:"hbox",align:"middle"},items:[nextStepsCard2Number,nextStepsCard2Image]}),nextStepsCard2Desc=Ext.create("Ext.Component",{html:"<div class='content'>Add individual 'Apps' to your Page.</div>"}),nextStepsCard2DescContainer=Ext.create("Ext.Container",{layout:"vbox",items:[nextStepsCard2ImageNumberContainer,nextStepsCard2Desc]}),nextStepsCard2=Ext.create("Ext.Container",{itemId:"card-next-card2",margin:"20 0 0 0",items:[nextStepsCard2DescContainer]}),nextStepsCard3Number=Ext.create("Ext.Component",{html:"<div class='enlarged-number'>#3</div>"}),nextStepsCard3Image=Ext.create("Ext.Img",{src:"",width:"300px"}),nextStepsCard3ImageNumberContainer=Ext.create("Ext.Container",{layout:{type:"hbox",align:"middle"},items:[nextStepsCard3Number,nextStepsCard3Image]}),nextStepsCard3Desc=Ext.create("Ext.Component",{width:450,html:"<div class='content'>We recommend adding the 'Iteration Planning Board' and 'My User Stories' Apps.</div>"}),nextStepsCard3Container=Ext.create("Ext.Container",{layout:"vbox",items:[nextStepsCard3ImageNumberContainer,nextStepsCard3Desc]}),nextStepsCard3=Ext.create("Ext.Container",{itemId:"card-next-card3",margin:"20 0 0 0",items:[nextStepsCard3Container]}),nextStepsCard=Ext.create("Ext.Container",{layout:{type:"vbox",align:"center"},items:[nextStepsText,nextStepsCard1,nextStepsCard2,nextStepsCard3]}),wizard=Ext.create("Ext.panel.Panel",{itemId:"appwizard",layout:"card",border:0,defaults:{border:!1},items:[welcomeCard,nextStepsCard]});this.add(wizard)},_createTrialInstallWizard:function(){var me=this,cardOverview=Ext.create("Ext.Component",{itemId:"card-overview",html:"<div class='headline'>Lets Get Started.</div><div class='content'>Agile teams increase their effectiveness by making work visible.</div><div class='content'>Lets make your trial experience impactful by using the Rally Product to guide you through the process.</div><div class='content'>We'll start by creating some Initiatives and User Stories to define our work.</div>"}),cardNames=Ext.create("Ext.Container",{itemId:"card-names",items:[{html:"<div class='headline'>Customized Names.</div><div class='content'>To make your experience feel at home, we'd like to use relevant names in the tool setup.</div><div class='content'>Please provide an example Line of Business and pilot Team Name.</div>",border:0,margin:"0 0 10 0"},{xtype:"rallytextfield",itemId:"companyName",fieldLabel:"Company Name",labelAlign:"right",width:350,labelWidth:100,labelCls:"field-label",emptyText:"Acme Inc., Widgets Unlimited, etc",listeners:{change:function(textfield,newValue,oldValue){this.data.companyName=newValue;var nextButton=Ext.getCmp("nav-button-next"),pilotTeamName=textfield.up().down("#pilotTeamName").getValue(),lineOfBusinessName=textfield.up().down("#lineOfBusinessName").getValue();newValue.length>0&&pilotTeamName.length>0&&lineOfBusinessName>0?nextButton.setDisabled(!1):nextButton.setDisabled(!0)},focus:function(textfield){textfield.setValue("")},scope:this}},{xtype:"rallytextfield",itemId:"lineOfBusinessName",fieldLabel:"Line of Business",labelAlign:"right",width:350,labelWidth:100,labelCls:"field-label",emptyText:"Consumer Products, Home Mortgages, etc",listeners:{change:function(textfield,newValue,oldValue){this.data.lineOfBusinessName=newValue;var nextButton=Ext.getCmp("nav-button-next"),companyName=textfield.up().down("#companyName").getValue(),pilotTeamName=textfield.up().down("#pilotTeamName").getValue();newValue.length>0&&companyName.length>0&&pilotTeamName.length>0?nextButton.setDisabled(!1):nextButton.setDisabled(!0)},focus:function(textfield){textfield.setValue("")},scope:this}},{xtype:"rallytextfield",itemId:"pilotTeamName",fieldLabel:"Pilot Project",labelAlign:"right",width:350,labelWidth:100,labelCls:"field-label",emptyText:"Scrum Team #1, Red Team, Flying Aces, etc",listeners:{change:function(textfield,newValue,oldValue){this.data.pilotTeamName=newValue;var nextButton=Ext.getCmp("nav-button-next"),companyName=textfield.up().down("#companyName").getValue(),lineOfBusinessName=textfield.up().down("#lineOfBusinessName").getValue();newValue.length>0&&companyName.length>0&&lineOfBusinessName.length>0?nextButton.setDisabled(!1):nextButton.setDisabled(!0)},scope:this}}]}),cardConfirmation=Ext.create("Ext.Component",{itemId:"card-confirmation",data:null,tpl:new Ext.XTemplate("<div class='headline'>Confirmation.</div>","<div class='content'>We're prepared to setup your Trial.  Feel free to go back and make any changes.</div>","<div class='content'>&nbsp;&nbsp;&nbsp;&nbsp;<b>Company:</b> {companyName}</div>","<div class='content'>&nbsp;&nbsp;&nbsp;&nbsp;<b>Line of Business:</b> {lineOfBusinessName}</div>","<div class='content'>&nbsp;&nbsp;&nbsp;&nbsp;<b>Pilot Project:</b> {pilotTeamName}</div>","<div class='content'>Click 'Setup Trial' to begin your Trial!</div>")}),cardStatus=Ext.create("Ext.Component",{itemId:"card-status",html:""}),cardFinish=Ext.create("Ext.Component",{itemId:"card-final",html:""}),wizard=Ext.create("Ext.panel.Panel",{itemId:"installwizard",layout:"card",height:327,defaults:{border:!1},bbar:[{id:"nav-button-back",text:"Back",handler:function(btn){this._navigate(btn.up("panel"),"prev")},scope:me,hidden:!0},"->",{id:"nav-button-next",text:"Next",handler:function(btn){this._navigate(btn.up("panel"),"next")},scope:me,disabled:!1}],items:[cardOverview,cardNames,cardConfirmation,cardStatus,cardFinish]});return wizard},_navigate:function(panel,direction){var me=this,layout=panel.getLayout();layout[direction]();var backButton=Ext.getCmp("nav-button-back"),nextButton=Ext.getCmp("nav-button-next"),cardId=layout.getActiveItem().getItemId();if(nextButton.setText("Next"),"card-overview"===cardId&&backButton.show(),"card-names"!==cardId||0!==me.data.lineOfBusinessName.length&&0!==me.data.pilotTeamName.length?nextButton.setDisabled(!1):nextButton.setDisabled(!0),"card-confirmation"===cardId&&(Ext.ComponentQuery.query("#card-confirmation")[0].update(me.data),nextButton.setText("Setup Trial")),"card-status"===cardId&&(backButton.hide(),nextButton.hide(),me.loadMask=new Ext.LoadMask(layout.getActiveItem(),{msg:"Creating Trial..."}),me.loadMask.show(),me._createTrial()),"card-final"===cardId){var dialog=Ext.ComponentQuery.query("#dialog")[0];dialog.destroy();var appwizard=Ext.ComponentQuery.query("#appwizard")[0],layout=appwizard.getLayout();layout.next()}},_countTreeChildren:function(tree,countRef){tree.name&&(countRef.counter++,tree.children&&Ext.Array.each(tree.children,function(child){this._countTreeChildren(child,countRef)},this))},_createProjects:function(){var me=this;me.projectTree.children[0].name=me.data.companyName,me.projectTree.children[0].children[0].name=me.data.lineOfBusinessName,me.projectTree.children[0].children[0].children[0].children[0].name=me.data.pilotTeamName,me._createProjectTree(me.getContext().getWorkspaceRef(),me.data.selectedParentProject,me.projectTree.name,me.projectTree.alias,me.projectTree.children)},_createProjectTree:function(workspaceRef,parentProjectRef,projectName,projectAlias,children){var me=this,record=Ext.create(this.models.Project,{Name:projectName,State:"Open",Parent:parentProjectRef,Workspace:workspaceRef});record.save({callback:function(result,operation){me.projectCounter++;var currParentProjectRef=result.get("_ref");me.projectTreeIndex[projectAlias]=currParentProjectRef,Ext.Array.each(children,function(child){me._createProjectTree(workspaceRef,currParentProjectRef,child.name,child.alias,child.children)}),me._onProjectCreated()}})},_createArtifacts:function(){var me=this;me._createArtifactTree(me.getContext().getWorkspaceRef(),me.projectTreeIndex[me.artifactTree.project],null,me.artifactTree.type,me.artifactTree.name,me.artifactTree.children)},_createArtifactTree:function(workspaceRef,projectRef,parentRef,artifactType,artifactName,artifactChildren){var deferred;deferred=Ext.create("Deft.Deferred");var me=this,record=Ext.create(this.models[artifactType],{Workspace:workspaceRef,Project:projectRef,Name:artifactName});return record.save({callback:function(result,operation){console.log(result,result.get("ObjectID"));var childArray=[],currRef=result.get("_ref"),bulkPromise;me.artifactCounter++,void 0===artifactChildren||0==artifactChildren.length?deferred.resolve(result):(Ext.Array.each(artifactChildren,function(child){childArray.push(me._createArtifactTree(workspaceRef,me.projectTreeIndex[child.project],currRef,child.type,child.name,child.children))}),Deft.Promise.all(childArray).then({success:function(childrenRecords){me.bulkUpdateCounter++,artifactChildren[0].type.match(/Portfolio/)?bulkPromise=this._bulkUpdate("Parent",currRef,childrenRecords):"HierarchicalRequirement"===artifactChildren[0].type&&currRef.match(/portfolio/)?bulkPromise=this._bulkUpdate("PortfolioItem",currRef,childrenRecords):"HierarchicalRequirement"===artifactChildren[0].type&&currRef.match(/hierarchical/)?bulkPromise=this._bulkUpdate("Parent",currRef,childrenRecords):"Task"===artifactChildren[0].type?bulkPromise=this._bulkUpdate("WorkProduct",currRef,childrenRecords):console.error("Unexpected artifact type during artifact creation",artifactType),bulkPromise.then({success:function(readOnlyRecords){deferred.resolve(result),this.bulkUpdateCounter--,0==this.bulkUpdateCounter&&this._onArtifactCreated()},failure:function(err){console.error("There was an error: ",err)},scope:this})},failure:function(err){console.error("There was an error: ",err)},scope:this}))},scope:this}),deferred.promise},_bulkUpdate:function(parentField,parentRef,childrenRecords){var deferred;deferred=Ext.create("Deft.Deferred");var obj={};return obj[parentField]=parentRef,Rally.data.BulkRecordUpdater.updateRecords({records:childrenRecords,propertiesToUpdate:obj,success:function(readOnlyRecords){console.log("bulk update success"),deferred.resolve(readOnlyRecords)},failure:function(err){console.error("Bulk update Error: ",+err)},scope:this}),deferred.promise},_onArtifactCreated:function(){var me=this;if(this.artifactCounter===this.artifactCountTotal){console.log("All Artifacts Created!"),me.loadMask.hide();var installWizard=Ext.ComponentQuery.query("#installwizard")[0];this._navigate(installWizard,"next")}},_onProjectCreated:function(){this.projectCounter===this.projectCountTotal&&(console.log("All Projects Created!"),this._createArtifacts())},_loadModels:function(){Rally.data.ModelFactory.getModels({types:["Project","PortfolioItem/Feature","PortfolioItem/Initiative","HierarchicalRequirement","Task"],context:this.getContext().getDataContext(),scope:this,success:function(models){this.models=models,this._createProjects()}})},_createTrial:function(){var me=this,counterRef={counter:0};me._countTreeChildren(me.projectTree,counterRef),me.projectCountTotal=counterRef.counter,console.log("Will create %i projects.",me.projectCountTotal),counterRef={counter:0},me._countTreeChildren(me.artifactTree,counterRef),me.artifactCountTotal=counterRef.counter,console.log("Will create %i artifacts.",me.artifactCountTotal),me._loadModels()}});
                (function(){function only_once(fn){var called=!1;return function(){if(called)throw Error("Callback was already called.");called=!0,fn.apply(root,arguments)}}var async={},root,previous_async;root=this,null!=root&&(previous_async=root.async),async.noConflict=function(){return root.async=previous_async,async};var _each=function(arr,iterator){if(arr.forEach)return arr.forEach(iterator);for(var i=0;arr.length>i;i+=1)iterator(arr[i],i,arr)},_map=function(arr,iterator){if(arr.map)return arr.map(iterator);var results=[];return _each(arr,function(x,i,a){results.push(iterator(x,i,a))}),results},_reduce=function(arr,iterator,memo){return arr.reduce?arr.reduce(iterator,memo):(_each(arr,function(x,i,a){memo=iterator(memo,x,i,a)}),memo)},_keys=function(obj){if(Object.keys)return Object.keys(obj);var keys=[];for(var k in obj)obj.hasOwnProperty(k)&&keys.push(k);return keys};"undefined"!=typeof process&&process.nextTick?(async.nextTick=process.nextTick,async.setImmediate="undefined"!=typeof setImmediate?setImmediate:async.nextTick):"function"==typeof setImmediate?(async.nextTick=function(fn){setImmediate(fn)},async.setImmediate=async.nextTick):(async.nextTick=function(fn){setTimeout(fn,0)},async.setImmediate=async.nextTick),async.each=function(arr,iterator,callback){if(callback=callback||function(){},!arr.length)return callback();var completed=0;_each(arr,function(x){iterator(x,only_once(function(err){err?(callback(err),callback=function(){}):(completed+=1,completed>=arr.length&&callback(null))}))})},async.forEach=async.each,async.eachSeries=function(arr,iterator,callback){if(callback=callback||function(){},!arr.length)return callback();var completed=0,iterate=function(){iterator(arr[completed],function(err){err?(callback(err),callback=function(){}):(completed+=1,completed>=arr.length?callback(null):iterate())})};iterate()},async.forEachSeries=async.eachSeries,async.eachLimit=function(arr,limit,iterator,callback){var fn=_eachLimit(limit);fn.apply(null,[arr,iterator,callback])},async.forEachLimit=async.eachLimit;var _eachLimit=function(limit){return function(arr,iterator,callback){if(callback=callback||function(){},!arr.length||0>=limit)return callback();var completed=0,started=0,running=0;(function replenish(){if(completed>=arr.length)return callback();for(;limit>running&&arr.length>started;)started+=1,running+=1,iterator(arr[started-1],function(err){err?(callback(err),callback=function(){}):(completed+=1,running-=1,completed>=arr.length?callback():replenish())})})()}},doParallel=function(fn){return function(){var args=Array.prototype.slice.call(arguments);return fn.apply(null,[async.each].concat(args))}},doParallelLimit=function(limit,fn){return function(){var args=Array.prototype.slice.call(arguments);return fn.apply(null,[_eachLimit(limit)].concat(args))}},doSeries=function(fn){return function(){var args=Array.prototype.slice.call(arguments);return fn.apply(null,[async.eachSeries].concat(args))}},_asyncMap=function(eachfn,arr,iterator,callback){var results=[];arr=_map(arr,function(x,i){return{index:i,value:x}}),eachfn(arr,function(x,callback){iterator(x.value,function(err,v){results[x.index]=v,callback(err)})},function(err){callback(err,results)})};async.map=doParallel(_asyncMap),async.mapSeries=doSeries(_asyncMap),async.mapLimit=function(arr,limit,iterator,callback){return _mapLimit(limit)(arr,iterator,callback)};var _mapLimit=function(limit){return doParallelLimit(limit,_asyncMap)};async.reduce=function(arr,memo,iterator,callback){async.eachSeries(arr,function(x,callback){iterator(memo,x,function(err,v){memo=v,callback(err)})},function(err){callback(err,memo)})},async.inject=async.reduce,async.foldl=async.reduce,async.reduceRight=function(arr,memo,iterator,callback){var reversed=_map(arr,function(x){return x}).reverse();async.reduce(reversed,memo,iterator,callback)},async.foldr=async.reduceRight;var _filter=function(eachfn,arr,iterator,callback){var results=[];arr=_map(arr,function(x,i){return{index:i,value:x}}),eachfn(arr,function(x,callback){iterator(x.value,function(v){v&&results.push(x),callback()})},function(err){callback(_map(results.sort(function(a,b){return a.index-b.index}),function(x){return x.value}))})};async.filter=doParallel(_filter),async.filterSeries=doSeries(_filter),async.select=async.filter,async.selectSeries=async.filterSeries;var _reject=function(eachfn,arr,iterator,callback){var results=[];arr=_map(arr,function(x,i){return{index:i,value:x}}),eachfn(arr,function(x,callback){iterator(x.value,function(v){v||results.push(x),callback()})},function(err){callback(_map(results.sort(function(a,b){return a.index-b.index}),function(x){return x.value}))})};async.reject=doParallel(_reject),async.rejectSeries=doSeries(_reject);var _detect=function(eachfn,arr,iterator,main_callback){eachfn(arr,function(x,callback){iterator(x,function(result){result?(main_callback(x),main_callback=function(){}):callback()})},function(err){main_callback()})};async.detect=doParallel(_detect),async.detectSeries=doSeries(_detect),async.some=function(arr,iterator,main_callback){async.each(arr,function(x,callback){iterator(x,function(v){v&&(main_callback(!0),main_callback=function(){}),callback()})},function(err){main_callback(!1)})},async.any=async.some,async.every=function(arr,iterator,main_callback){async.each(arr,function(x,callback){iterator(x,function(v){v||(main_callback(!1),main_callback=function(){}),callback()})},function(err){main_callback(!0)})},async.all=async.every,async.sortBy=function(arr,iterator,callback){async.map(arr,function(x,callback){iterator(x,function(err,criteria){err?callback(err):callback(null,{value:x,criteria:criteria})})},function(err,results){if(err)return callback(err);var fn=function(left,right){var a=left.criteria,b=right.criteria;return b>a?-1:a>b?1:0};callback(null,_map(results.sort(fn),function(x){return x.value}))})},async.auto=function(tasks,callback){callback=callback||function(){};var keys=_keys(tasks);if(!keys.length)return callback(null);var results={},listeners=[],addListener=function(fn){listeners.unshift(fn)},removeListener=function(fn){for(var i=0;listeners.length>i;i+=1)if(listeners[i]===fn)return listeners.splice(i,1),void 0},taskComplete=function(){_each(listeners.slice(0),function(fn){fn()})};addListener(function(){_keys(results).length===keys.length&&(callback(null,results),callback=function(){})}),_each(keys,function(k){var task=tasks[k]instanceof Function?[tasks[k]]:tasks[k],taskCallback=function(err){var args=Array.prototype.slice.call(arguments,1);if(1>=args.length&&(args=args[0]),err){var safeResults={};_each(_keys(results),function(rkey){safeResults[rkey]=results[rkey]}),safeResults[k]=args,callback(err,safeResults),callback=function(){}}else results[k]=args,async.setImmediate(taskComplete)},requires=task.slice(0,Math.abs(task.length-1))||[],ready=function(){return _reduce(requires,function(a,x){return a&&results.hasOwnProperty(x)},!0)&&!results.hasOwnProperty(k)};if(ready())task[task.length-1](taskCallback,results);else{var listener=function(){ready()&&(removeListener(listener),task[task.length-1](taskCallback,results))};addListener(listener)}})},async.waterfall=function(tasks,callback){if(callback=callback||function(){},tasks.constructor!==Array){var err=Error("First argument to waterfall must be an array of functions");return callback(err)}if(!tasks.length)return callback();var wrapIterator=function(iterator){return function(err){if(err)callback.apply(null,arguments),callback=function(){};else{var args=Array.prototype.slice.call(arguments,1),next=iterator.next();next?args.push(wrapIterator(next)):args.push(callback),async.setImmediate(function(){iterator.apply(null,args)})}}};wrapIterator(async.iterator(tasks))()};var _parallel=function(eachfn,tasks,callback){if(callback=callback||function(){},tasks.constructor===Array)eachfn.map(tasks,function(fn,callback){fn&&fn(function(err){var args=Array.prototype.slice.call(arguments,1);1>=args.length&&(args=args[0]),callback.call(null,err,args)})},callback);else{var results={};eachfn.each(_keys(tasks),function(k,callback){tasks[k](function(err){var args=Array.prototype.slice.call(arguments,1);1>=args.length&&(args=args[0]),results[k]=args,callback(err)})},function(err){callback(err,results)})}};async.parallel=function(tasks,callback){_parallel({map:async.map,each:async.each},tasks,callback)},async.parallelLimit=function(tasks,limit,callback){_parallel({map:_mapLimit(limit),each:_eachLimit(limit)},tasks,callback)},async.series=function(tasks,callback){if(callback=callback||function(){},tasks.constructor===Array)async.mapSeries(tasks,function(fn,callback){fn&&fn(function(err){var args=Array.prototype.slice.call(arguments,1);1>=args.length&&(args=args[0]),callback.call(null,err,args)})},callback);else{var results={};async.eachSeries(_keys(tasks),function(k,callback){tasks[k](function(err){var args=Array.prototype.slice.call(arguments,1);1>=args.length&&(args=args[0]),results[k]=args,callback(err)})},function(err){callback(err,results)})}},async.iterator=function(tasks){var makeCallback=function(index){var fn=function(){return tasks.length&&tasks[index].apply(null,arguments),fn.next()};return fn.next=function(){return tasks.length-1>index?makeCallback(index+1):null},fn};return makeCallback(0)},async.apply=function(fn){var args=Array.prototype.slice.call(arguments,1);return function(){return fn.apply(null,args.concat(Array.prototype.slice.call(arguments)))}};var _concat=function(eachfn,arr,fn,callback){var r=[];eachfn(arr,function(x,cb){fn(x,function(err,y){r=r.concat(y||[]),cb(err)})},function(err){callback(err,r)})};async.concat=doParallel(_concat),async.concatSeries=doSeries(_concat),async.whilst=function(test,iterator,callback){test()?iterator(function(err){return err?callback(err):(async.whilst(test,iterator,callback),void 0)}):callback()},async.doWhilst=function(iterator,test,callback){iterator(function(err){return err?callback(err):(test()?async.doWhilst(iterator,test,callback):callback(),void 0)})},async.until=function(test,iterator,callback){test()?callback():iterator(function(err){return err?callback(err):(async.until(test,iterator,callback),void 0)})},async.doUntil=function(iterator,test,callback){iterator(function(err){return err?callback(err):(test()?callback():async.doUntil(iterator,test,callback),void 0)})},async.queue=function(worker,concurrency){function _insert(q,data,pos,callback){data.constructor!==Array&&(data=[data]),_each(data,function(task){var item={data:task,callback:"function"==typeof callback?callback:null};pos?q.tasks.unshift(item):q.tasks.push(item),q.saturated&&q.tasks.length===concurrency&&q.saturated(),async.setImmediate(q.process)})}void 0===concurrency&&(concurrency=1);var workers=0,q={tasks:[],concurrency:concurrency,saturated:null,empty:null,drain:null,push:function(data,callback){_insert(q,data,!1,callback)},unshift:function(data,callback){_insert(q,data,!0,callback)},process:function(){if(q.concurrency>workers&&q.tasks.length){var task=q.tasks.shift();q.empty&&0===q.tasks.length&&q.empty(),workers+=1;var next=function(){workers-=1,task.callback&&task.callback.apply(task,arguments),q.drain&&0===q.tasks.length+workers&&q.drain(),q.process()},cb=only_once(next);worker(task.data,cb)}},length:function(){return q.tasks.length},running:function(){return workers}};return q},async.cargo=function(worker,payload){var working=!1,tasks=[],cargo={tasks:tasks,payload:payload,saturated:null,empty:null,drain:null,push:function(data,callback){data.constructor!==Array&&(data=[data]),_each(data,function(task){tasks.push({data:task,callback:"function"==typeof callback?callback:null}),cargo.saturated&&tasks.length===payload&&cargo.saturated()}),async.setImmediate(cargo.process)},process:function process(){if(!working){if(0===tasks.length)return cargo.drain&&cargo.drain(),void 0;var ts="number"==typeof payload?tasks.splice(0,payload):tasks.splice(0),ds=_map(ts,function(task){return task.data});cargo.empty&&cargo.empty(),working=!0,worker(ds,function(){working=!1;var args=arguments;_each(ts,function(data){data.callback&&data.callback.apply(null,args)}),process()})}},length:function(){return tasks.length},running:function(){return working}};return cargo};var _console_fn=function(name){return function(fn){var args=Array.prototype.slice.call(arguments,1);fn.apply(null,args.concat([function(err){var args=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(err?console.error&&console.error(err):console[name]&&_each(args,function(x){console[name](x)}))}]))}};async.log=_console_fn("log"),async.dir=_console_fn("dir"),async.memoize=function(fn,hasher){var memo={},queues={};hasher=hasher||function(x){return x};var memoized=function(){var args=Array.prototype.slice.call(arguments),callback=args.pop(),key=hasher.apply(null,args);key in memo?callback.apply(null,memo[key]):key in queues?queues[key].push(callback):(queues[key]=[callback],fn.apply(null,args.concat([function(){memo[key]=arguments;var q=queues[key];delete queues[key];for(var i=0,l=q.length;l>i;i++)q[i].apply(null,arguments)}])))};return memoized.memo=memo,memoized.unmemoized=fn,memoized},async.unmemoize=function(fn){return function(){return(fn.unmemoized||fn).apply(null,arguments)}},async.times=function(count,iterator,callback){for(var counter=[],i=0;count>i;i++)counter.push(i);return async.map(counter,iterator,callback)},async.timesSeries=function(count,iterator,callback){for(var counter=[],i=0;count>i;i++)counter.push(i);return async.mapSeries(counter,iterator,callback)},async.compose=function(){var fns=Array.prototype.reverse.call(arguments);return function(){var that=this,args=Array.prototype.slice.call(arguments),callback=args.pop();async.reduce(fns,args,function(newargs,fn,cb){fn.apply(that,newargs.concat([function(){var err=arguments[0],nextargs=Array.prototype.slice.call(arguments,1);cb(err,nextargs)}]))},function(err,results){callback.apply(that,[err].concat(results))})}};var _applyEach=function(eachfn,fns){var go=function(){var that=this,args=Array.prototype.slice.call(arguments),callback=args.pop();return eachfn(fns,function(fn,cb){fn.apply(that,args.concat([cb]))},callback)};if(arguments.length>2){var args=Array.prototype.slice.call(arguments,2);return go.apply(this,args)}return go};async.applyEach=doParallel(_applyEach),async.applyEachSeries=doSeries(_applyEach),async.forever=function(fn,callback){function next(err){if(err){if(callback)return callback(err);throw err}fn(next)}next()},"undefined"!=typeof define&&define.amd?define([],function(){return async}):"undefined"!=typeof module&&module.exports?module.exports=async:root.async=async})();

            Rally.launchApp('CustomApp', {
                name:"TrialByRally",
	            parentRepos:""
            });

        });
    </script>


    <style type="text/css">
        .app {
     /* Add app styles here */
}

.field-label {
    font-weight: bold;
}

.x-form-empty-field {
    font-style: italic;
}

.enlarged-number {
    font-size: 5.0em;
    font-family: arial, sans-serif;
    margin: 20px 20px 20px 20px;
}

.headline {
    font-size: 3.0em;
    font-family: arial, sans-serif;
    margin: 20px 10px 20px 10px;
}

.content {
    font-size: 1.5em;
    margin: 10px;
}

    </style>
</head>
<body></body>
</html>
